## EXPERIMENTAL TypeScript extensible compiler

This project adds a proposed extension mechanism to the TypeScript compiler.

It has been discussed in many issues:
- Suggestion: Typescript plugins https://github.com/Microsoft/TypeScript/issues/6843

My summary is https://github.com/Microsoft/TypeScript/issues/3003#issuecomment-210036622

## Warnings
This is unsupported, likely to break, may cause JavaScript fatigue, and not based on any spec from the TypeScript team.

## Usage

In any tsconfig.json, add an "extensions" attribute. The value is a map from a node module name to a configuration.
See the examples/ directory. There is no other way to pass options to tsc-ext.

Then run this program in place of tsc, eg.

```
npm tsc
node ./built/index.js -p examples/closure/
```

## Extensions gallery

### Sickle
Sickle re-writes TypeScript to Closure Compiler compatible ES6. This enables advanced
optimizations with the Closure Compiler (https://developers.google.com/closure/compiler/)

Currently on experimental branch
https://github.com/angular/sickle/tree/ext

### Angular 2
You can run the Angular 2 template compiler as a build step, producing a faster, more
optimizable application.

Based on the https://github.com/alexeagle/angular/tree/compiler_cli

### Tsetse
An experimental static analysis framework, in which some checks can cause a compile failure,
and checks can include suggested fixes.

## Extension points

The flow of the compilation is:
1. Locate and read the `tsconfig.json`.
1. As files are read into the compiler, the contents may be re-written by the `preProcess` extension point.
1. Extract statically-readable Decorator metadata from the sources
1. Using the metadata, more input files may be generated by the `codegen` extension point.
1. Type-check the program
1. Perform additional static checks, along the lines of tslint, ng2lint, etc.
1. As files are emitted, the contents may be re-written by the `postProcess` extension point.

## Writing an extension

Implement the `Extension` interface found in `index.ts`.
Make it the default export of a node module.
